(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{1876:function(e,t,r){Promise.resolve().then(r.bind(r,537))},4603:function(e,t,r){"use strict";var n=r(2988);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},537:function(e,t,r){"use strict";r.r(t),r.d(t,{PostForm:function(){return v}});var n=r(1674),s=r(747),o=r(4475),i=r(6120),a=r(6655),l=r(3061);let u=a.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});u.displayName="Textarea";var d=r(9823),c=r(2608),f=r(6868);let m=()=>{let e=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:f.P.createPost,onSuccess:()=>{e.invalidateQueries({queryKey:["posts"],exact:!1})}})};var x=r(7935),p=r(4603),h=r(2816),g=r(8444);let b=g.z.object({title:g.z.string().min(1,"Title is required"),content:g.z.string().min(1,"Content is required")});function v(){let e=(0,p.useRouter)(),{mutate:t,isPending:r}=m(),a=(0,h.cI)({resolver:(0,x.F)(b),defaultValues:{title:"",content:""}});return(0,n.jsx)(o.l0,{...a,children:(0,n.jsxs)("form",{onSubmit:a.handleSubmit(r=>{t(r,{onSuccess:()=>{e.push("/")}})}),className:"space-y-8",children:[(0,n.jsx)(o.Wi,{control:a.control,name:"title",render:e=>{let{field:t}=e;return(0,n.jsxs)(o.xJ,{children:[(0,n.jsx)(o.lX,{children:"Title"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(i.I,{placeholder:"Post title",...t})}),(0,n.jsx)(o.zG,{})]})}}),(0,n.jsx)(o.Wi,{control:a.control,name:"content",render:e=>{let{field:t}=e;return(0,n.jsxs)(o.xJ,{children:[(0,n.jsx)(o.lX,{children:"Content"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(u,{placeholder:"Write your post content here...",className:"min-h-[200px] resize-none",...t})}),(0,n.jsx)(o.zG,{})]})}}),(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)(s.z,{type:"button",variant:"outline",onClick:()=>e.back(),children:"Cancel"}),(0,n.jsx)(s.z,{type:"submit",disabled:r,isLoading:r,children:r?"Creating...":"Create Post"})]})]})})}},747:function(e,t,r){"use strict";r.d(t,{d:function(){return u},z:function(){return d}});var n=r(1674),s=r(6655),o=r(5511),i=r(7828),a=r(3061),l=r(4741);let u=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,isLoading:c=!1,children:f,disabled:m,...x}=e,p=d?o.g7:"button";return(0,n.jsx)(p,{className:(0,a.cn)(u({variant:s,size:i,className:r})),ref:t,disabled:m||c,...x,children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}),f]}):f})});d.displayName="Button"},4475:function(e,t,r){"use strict";r.d(t,{l0:function(){return c},NI:function(){return b},Wi:function(){return m},xJ:function(){return h},lX:function(){return g},zG:function(){return v}});var n=r(1674),s=r(6655),o=r(5511),i=r(2816),a=r(3061),l=r(840);let u=(0,r(7828).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(l.f,{ref:t,className:(0,a.cn)(u(),r),...s})});d.displayName=l.f.displayName;let c=i.RV,f=s.createContext({}),m=e=>{let{...t}=e;return(0,n.jsx)(f.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},x=()=>{let e=s.useContext(f),t=s.useContext(p),{getFieldState:r,formState:n}=(0,i.Gc)(),o=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...o}},p=s.createContext({}),h=s.forwardRef((e,t)=>{let{className:r,...o}=e,i=s.useId();return(0,n.jsx)(p.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,a.cn)("space-y-2",r),...o})})});h.displayName="FormItem";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:o,formItemId:i}=x();return(0,n.jsx)(d,{ref:t,className:(0,a.cn)(o&&"text-destructive",r),htmlFor:i,...s})});g.displayName="FormLabel";let b=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:a,formMessageId:l}=x();return(0,n.jsx)(o.g7,{ref:t,id:i,"aria-describedby":s?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!s,...r})});b.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:o}=x();return(0,n.jsx)("p",{ref:t,id:o,className:(0,a.cn)("text-[0.8rem] text-muted-foreground",r),...s})}).displayName="FormDescription";let v=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e,{error:i,formMessageId:l}=x(),u=i?String(null==i?void 0:i.message):s;return u?(0,n.jsx)("p",{ref:t,id:l,className:(0,a.cn)("text-[0.8rem] font-medium text-destructive",r),...o,children:u}):null});v.displayName="FormMessage"},6120:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(1674),s=r(6655),o=r(3061);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},265:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});let n=r(925).default.create({baseURL:"http://localhost:8888/api"});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e))},3061:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var n=r(4115),s=r(8352);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},6868:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(265);class s{static async getPosts(){let{page:e=1,limit:t=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:r}=await n.d.get("/posts",{params:{page:e,limit:t}});return r}static async createPost(e){return(await n.d.post("/posts",e)).data}}}},function(e){e.O(0,[834,592,128,912,293,997,744],function(){return e(e.s=1876)}),_N_E=e.O()}]);